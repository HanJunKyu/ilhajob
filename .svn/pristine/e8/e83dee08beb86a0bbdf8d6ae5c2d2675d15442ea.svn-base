/* 기업회원 정보 테이블 */
/* 계정 정보(ID~EMAIL)와 기업 정보(TYPE~TIP)가 같이 있음 */
CREATE TABLE TABLE_COMP_USER(
	COMP_USER_ID VARCHAR2(100),
	COMP_USER_PW VARCHAR2(100),
	COMP_USER_NAME VARCHAR2(200),
	COMP_USER_PHONE VARCHAR2(100),
	COMP_USER_EMAIL VARCHAR2(200),
	COMP_USER_TYPE VARCHAR2(100),
	COMP_USER_LOCATION VARCHAR2(200),
	COMP_USER_CEO VARCHAR2(200),
	COMP_NAME VARCHAR2(200),
	COMP_USER_CRN VARCHAR2(200),
	COMP_USER_INCOME NUMBER(38),
	COMP_USER_DOE DATE,
	COMP_USER_CAPITAL VARCHAR2(200),
	COMP_USER_WORKERCNT NUMBER(38),
	COPM_USER_TIP VARCHAR2(2000),
	CONSTRAINT COMP_USER_PK PRIMARY KEY (COMP_USER_ID)
);

ALTER TABLE TABLE_COMP_USER MODIFY COMP_USER_CAPITAL NUMBER(38);
ALTER TABLE TABLE_COMP_USER ADD COMP_NAME VARCHAR(200);
ALTER TABLE TABLE_COMP_USER ADD COMP_JOIN_DATE DATE;
ALTER TABLE TABLE_COMP_USER ADD COMP_PHOTO VARCHAR2(200);

UPDATE TABLE_COMP_USER 
SET COMP_JOIN_DATE = SYSDATE 
WHERE COMP_USER_ID  = 'korea12';

UPDATE TABLE_COMP_USER 
SET COMP_JOIN_DATE = SYSDATE 
WHERE COMP_USER_ID  = 'korea12';

INSERT INTO TABLE_COMP_USER
(COMP_USER_ID, COMP_USER_PW, COMP_USER_NAME, COMP_USER_PHONE, COMP_USER_EMAIL, COMP_USER_TYPE, COMP_USER_LOCATION, COMP_USER_CEO, COMP_NAME, COMP_USER_CRN)
VALUES('korea12', 'korea1234!', '홍길동', '01011112222', 'korea@korea', '대기업', '서울', '홍길동', '삼성', '1234');


SELECT * FROM TABLE_COMP_USER;


INSERT INTO TABLE_COMP_USER 
VALUES('comptestid1','abcd1234-','기업테스트용이름','0212341234','comptestemail@gmail.com','물류업체','서울시 용산구','김사장','1111-2222',10000000,TO_DATE('2000-01-01','yyyy-mm-dd'),4000000,100,'경력자 우대');

INSERT INTO TABLE_COMP_USER 
VALUES('comptestid2','abcd1234-','기업테스트용이름2','0212341234','comptestemail@gmail.com','의류업체','서울시 도봉구','박사장','1111-2222',10000000,TO_DATE('2000-01-01','yyyy-mm-dd'),4000000,100,'경력자 우대');

CREATE SEQUENCE COMP_APPLY_SEQ;

CREATE TABLE TABLE_COMP_APPLY(
	NUM NUMBER(10),
	COMP_USER_ID VARCHAR2(100),
	JOBS_NUM NUMBER(10),
	APPLY_NAME VARCHAR2(100),
	APPLY_DATE DATE,
	APPLY_STATUS VARCHAR2(200),
	APPLY_AREA VARCHAR2(200),
	CONSTRAINT COMP_APPLY_PK PRIMARY KEY(NUM),
	CONSTRAINT COMP_APPLY_FK FOREIGN KEY(COMP_USER_ID) REFERENCES TABLE_COMP_USER(COMP_USER_ID),
	CONSTRAINT COMP_APPLY_FK2 FOREIGN KEY(JOBS_NUM) REFERENCES TABLE_OPN(OPN_NUM)
);

ALTER TABLE TABLE_COMP_APPLY ADD APPLY_ID VARCHAR(200);
ALTER TABLE TABLE_COMP_APPLY ADD READ_DATE DATE;

SELECT * FROM TABLE_COMP_APPLY;


DELETE FROM TABLE_COMP_APPLY;

INSERT INTO HR.TABLE_COMP_APPLY
(NUM, COMP_USER_ID, JOBS_NUM, APPLY_NAME, APPLY_DATE, APPLY_STATUS, APPLY_AREA, APPLY_ID, READ_DATE)
VALUES(COMP_APPLY_SEQ.NEXTVAL, 'dfs', 25, '최유림', SYSDATE, '열람하기', '개발자', 'dfs', NULL);


